Metadata-Version: 2.4
Name: actiancortex
Version: 0.1.0b1
Summary: Enterprise Python SDK for Actian Cortex Vector Database - High-performance vector search
Author-email: Actian Corporation <support@actian.com>
License: Proprietary
Project-URL: Homepage, https://github.com/actian/cortex
Project-URL: Documentation, https://docs.actian.com/cortex/
Project-URL: Repository, https://github.com/actian/cortex-client
Project-URL: Issues, https://github.com/actian/cortex-client/issues
Project-URL: Changelog, https://github.com/actian/cortex-client/blob/main/CHANGELOG.md
Keywords: vector,database,search,embeddings,ai,machine-learning,similarity-search,grpc,faiss,hnsw,btrieve
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: Science/Research
Classifier: License :: Other/Proprietary License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Topic :: Database
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Typing :: Typed
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: grpcio>=1.68.1
Requires-Dist: grpcio-tools>=1.68.1
Requires-Dist: protobuf>=5.29.2
Requires-Dist: numpy>=2.2.1
Requires-Dist: pydantic>=2.10.4
Provides-Extra: dev
Requires-Dist: pytest>=8.3.4; extra == "dev"
Requires-Dist: pytest-asyncio>=0.24.0; extra == "dev"
Requires-Dist: pytest-timeout>=2.3.1; extra == "dev"
Requires-Dist: pytest-cov>=6.0.0; extra == "dev"
Requires-Dist: ruff>=0.8.3; extra == "dev"
Requires-Dist: mypy>=1.14.0; extra == "dev"
Requires-Dist: types-protobuf>=5.29.1; extra == "dev"
Requires-Dist: coverage>=7.6.9; extra == "dev"
Dynamic: license-file

<p align="center">
  <img height="100" alt="Actian" src="assets/actian-logo.svg">
  &nbsp;
</p>

<p align="center">
    <b>Actian VectorAI DB</b>
</p>


# Actian VectorAI DB and Python Client (BETA)

The Beta release of the Actian VectorAI DB and Python client.

## Features

- üöÄ **Async & Sync clients** - Full async/await support with `AsyncCortexClient`
- üîê **Persistent storage** - Production-grade data persistence
- üîç **Type-safe Filter DSL** - Fluent API for payload filtering
- ‚ö° **Smart Batching** - Automatic request batching for high throughput
- üì¶ **Pydantic models** - Type hints and validation throughout
- üéØ **gRPC transport** - High-performance communication

## üì• Installation

### Docker Container

Load the container archive into your container environment

```bash
docker image load -i Actian_VectorAI_DB_Beta.tar
```

Deploy the container using docker run

```bash
docker run -d --name vectoraidb -v ./data:/data -p 50051:50051 localhost/actian/vectoraidb:1.0b
```

Deploy the container using docker compose

```yaml
vectoraidb:
    image: localhost/actian/vectoraidb:1.0b
    container_name: vectoraidb
    ports:
      - "50051:50051"
    volumes:
      - ./data:/data
    restart: unless-stopped
    stop_grace_period: 2m
```

_Note: Collections and logs will be persisted under the mounted /data directory_

### Python Client

```bash
pip install actiancortex-0.1.0b1-py3-none-any.whl
```

## üöÄ Quick Start

### Sync Client

```python
from cortex import CortexClient, DistanceMetric

with CortexClient("localhost:50051") as client:
    # Health check
    version, uptime = client.health_check()
    print(f"Connected to {version}")
    
    # Create collection
    client.create_collection(
        name="products",
        dimension=128,
        distance_metric=DistanceMetric.COSINE,
    )
    
    # Insert vectors
    client.upsert("products", id=0, vector=[0.1]*128, payload={"name": "Product A"})
    
    # Batch insert
    client.batch_upsert(
        "products",
        ids=[1, 2, 3],
        vectors=[[0.2]*128, [0.3]*128, [0.4]*128],
        payloads=[{"name": f"Product {i}"} for i in [1, 2, 3]],
    )
    
    # Search
    results = client.search("products", query=[0.1]*128, top_k=5)
    for r in results:
        print(f"ID: {r.id}, Score: {r.score}")
    
    # Cleanup
    client.delete_collection("products")
```

### Async Client

```python
import asyncio
from cortex import AsyncCortexClient

async def main():
    async with AsyncCortexClient("localhost:50051") as client:
        # All methods are async
        await client.create_collection("demo", 128)
        await client.upsert("demo", id=0, vector=[0.1]*128)
        results = await client.search("demo", [0.1]*128, top_k=5)
        await client.delete_collection("demo")

asyncio.run(main())
```

## üìö Core API

### Collection Management

| Method | Description |
|--------|-------------|
| `create_collection(name, dimension, ...)` | Create new collection |
| `delete_collection(name)` | Delete collection |
| `has_collection(name)` | Check if exists |
| `collection_exists(name)` | Alias for has_collection |
| `recreate_collection(name, dimension, ...)` | Delete and recreate |
| `open_collection(name)` | Open for operations |
| `close_collection(name)` | Close collection |

### Vector Operations

| Method | Description |
|--------|-------------|
| `upsert(collection, id, vector, payload)` | Insert/update single vector |
| `batch_upsert(collection, ids, vectors, payloads)` | Batch insert |
| `get(collection, id)` | Get vector by ID |
| `get_many(collection, ids)` | Get multiple vectors |
| `retrieve(collection, ids)` | Alias for get_many |
| `delete(collection, id)` | Delete vector |
| `count(collection)` | Get vector count |
| `scroll(collection, limit, cursor)` | Paginate through vectors |

### Search Operations

| Method | Description |
|--------|-------------|
| `search(collection, query, top_k)` | K-NN search |
| `search_filtered(collection, query, filter, top_k)` | Filtered search |

### Maintenance

| Method | Description |
|--------|-------------|
| `flush(collection)` | Flush to disk |
| `get_stats(collection)` | Get statistics |
| `health_check()` | Check server health |

## üîç Filter DSL

Type-safe filter building for payload queries:

```python
from cortex.filters import Filter, Field

# Simple conditions
filter = Filter().must(Field("category").eq("electronics"))

# Range conditions
filter = Filter().must(Field("price").range(gte=100, lte=500))

# Combined conditions
filter = (
    Filter()
    .must(Field("category").eq("electronics"))
    .must(Field("price").lte(500))
    .must_not(Field("deleted").eq(True))
)

# Use in search
results = client.search_filtered("products", query_vector, filter, top_k=10)
```

## üìñ Examples

```bash
# Run examples
PYTHONPATH=. .venv/bin/python examples/quick_start.py
PYTHONPATH=. .venv/bin/python examples/async_example.py
PYTHONPATH=. .venv/bin/python examples/batch_upsert.py
```

## üìä Storage

Cortex uses persistent storage as the default backend. This provides:

- ‚úÖ Production-grade persistence
- ‚úÖ Transactional safety
- ‚úÖ High-performance I/O

## üîß Configuration

### HNSW Parameters

```python
client.create_collection(
    name="vectors",
    dimension=128,
    hnsw_m=32,              # Edges per node (default: 16)
    hnsw_ef_construct=256,  # Build-time neighbors (default: 200)
    hnsw_ef_search=100,     # Search-time neighbors (default: 50)
)
```

### Distance Metrics

- `COSINE` - Cosine similarity (default, recommended for normalized vectors)
- `EUCLIDEAN` - L2 distance
- `DOT` - Dot product

## üì¶ Dependencies

- `grpcio>=1.68.1` - gRPC transport
- `protobuf>=5.29.2` - Protocol buffers
- `numpy>=2.2.1` - Vector operations  
- `pydantic>=2.10.4` - Data validation

## üêû Known Issues
* CRTX-202: Closing or deleting collections while read/write operations are in progress are not supported.
* CRTX-232: scroll API uses the term cursor to indicate the offset.
* CRTX-233: get_many API does not return the vector ids.
* CRTX-267: Async search and get_vector_count will not retrieve results of newly upserted vectors if inserted using async single upserts. Async batch upserts work properly.

## üìÑ License

Proprietary - Actian Corporation

---

<p align="center">
  <b>Copyright ¬© 2025-2026 Actian Corporation. All Rights Reserved.</b>
</p>
